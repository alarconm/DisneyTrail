import { GameEvent } from '../types/game.types';

export const GOOD_EVENTS: GameEvent[] = [
  {
    id: 'tinkerbell-pixiedust',
    title: 'Tinker Bell Appears!',
    description: 'A tiny glow appears beside the wagon. Tinker Bell sprinkles her magical pixie dust over your party! Everything feels more magical.',
    type: 'good',
    effects: [{ type: 'resource', resource: 'pixieDust', amount: 20 }],
    disneyCharacter: 'tinkerbell',
  },
  {
    id: 'minestrone-mouse',
    title: 'Successful Hunt!',
    description: 'Minestrone has caught a mouse! She looks incredibly proud of herself and presents it like a trophy. Marge pretends not to be impressed.',
    type: 'good',
    effects: [{ type: 'resource', resource: 'food', amount: 10 }],
  },
  {
    id: 'mtg-booster',
    title: 'Rare Find!',
    description: 'You find an abandoned Magic: The Gathering booster pack by the trail! Mike would be SO thrilled. Maybe there\'s a Black Lotus in there?',
    type: 'good',
    effects: [{ type: 'resource', resource: 'goldCoins', amount: 30 }],
  },
  {
    id: 'theater-troupe',
    title: 'Theater Troupe!',
    description: 'A traveling theater troupe invites you to perform! Kristin\'s Teaching Artist skills from NW Children\'s Theater shine brightly. Standing ovation!',
    type: 'good',
    effects: [{ type: 'morale', amount: 30 }],
  },
  {
    id: 'mac-warmth',
    title: "Mac's Cozy Night",
    description: "It's a cold night, but Mac's big fluffy body keeps everyone warm. He purrs so loud it sounds like a small engine. Best space heater ever.",
    type: 'good',
    effects: [
      { type: 'health', target: 'all', amount: 5 },
      { type: 'morale', amount: 10 },
    ],
  },
  {
    id: 'wild-cat-treats',
    title: 'Treat Discovery!',
    description: 'Minestrone has discovered a hidden stash of premium cat treats behind a cactus! How did those get there? Marge sighs. Mac drools.',
    type: 'good',
    effects: [{ type: 'resource', resource: 'catTreats', amount: 15 }],
  },
  {
    id: 'dance-morale',
    title: 'Dance Break!',
    description: 'Kristin teaches the cats a jazz routine from her contemporary dance days. Minestrone nails it. Mac trips but looks adorable. Marge judges from the sidelines.',
    type: 'good',
    effects: [{ type: 'morale', amount: 25 }],
  },
  {
    id: 'friendly-travelers',
    title: 'Friendly Travelers',
    description: 'You meet fellow travelers who share their supplies! They heard about NW Children\'s Theater and wanted to support the arts.',
    type: 'good',
    effects: [
      { type: 'resource', resource: 'food', amount: 30 },
      { type: 'resource', resource: 'firstAidKits', amount: 1 },
    ],
  },
  {
    id: 'perfect-weather',
    title: 'Beautiful Day!',
    description: 'The weather is absolutely perfect. Blue skies, gentle breeze, and not too hot. Even Marge seems pleased. Mac found a sunny spot.',
    type: 'good',
    effects: [{ type: 'morale', amount: 15 }],
  },
  {
    id: 'oregon-duck-blessing',
    title: 'Duck Blessing',
    description: 'An Oregon Duck waddles by and gives you an approving nod. Go Ducks! As a fellow U of O alum, Kristin feels energized!',
    type: 'good',
    effects: [{ type: 'morale', amount: 20 }],
  },
  {
    id: 'hip-hop-practice',
    title: 'Hip Hop Session',
    description: 'Kristin finds the perfect spot for some hip-hop practice! Her moves from Clackamas High School days come flooding back. The cats are confused but supportive.',
    type: 'good',
    effects: [{ type: 'morale', amount: 20 }, { type: 'health', target: 'all', amount: 5 }],
  },
  {
    id: 'marge-wisdom',
    title: 'Marge\'s Wisdom',
    description: 'Marge gives everyone a knowing look that somehow solves all your problems. Mom energy is powerful. Party feels organized and ready.',
    type: 'good',
    effects: [{ type: 'morale', amount: 15 }],
  },
  {
    id: 'lucky-penny',
    title: 'Lucky Find!',
    description: 'You find a shiny penny on the trail! "See a penny, pick it up..." The cats think you\'re weird for collecting tiny metal discs.',
    type: 'good',
    effects: [{ type: 'resource', resource: 'goldCoins', amount: 10 }],
  },
  {
    id: 'concordia-memory',
    title: 'Educational Inspiration',
    description: 'Kristin remembers a valuable lesson from her MA at Concordia University-Portland. Applied knowledge makes the journey easier!',
    type: 'good',
    effects: [{ type: 'morale', amount: 15 }],
  },
  {
    id: 'extra-wheel',
    title: 'Roadside Discovery',
    description: 'You find an abandoned wagon wheel in excellent condition! Someone\'s loss is your gain. Mac tries to roll it. It does not go well.',
    type: 'good',
    effects: [{ type: 'resource', resource: 'wagonWheels', amount: 1 }],
  },
  {
    id: 'remy-visit',
    title: 'A Little Chef!',
    description: 'A tiny rat with a chef\'s hat appears and reorganizes your food supplies! Everything is suddenly more appetizing. Anyone can cook!',
    type: 'good',
    effects: [{ type: 'resource', resource: 'food', amount: 20 }],
    disneyCharacter: 'remy',
  },
  {
    id: 'pascal-camouflage',
    title: 'Pascal\'s Help',
    description: 'A small chameleon changes colors to match your wagon! Pascal is helping you blend in. Minestrone is fascinated and tries to catch him.',
    type: 'good',
    effects: [{ type: 'morale', amount: 10 }],
    disneyCharacter: 'pascal',
  },
  {
    id: 'maximus-guard',
    title: 'Royal Guard',
    description: 'Maximus the horse trots alongside your wagon for protection! He keeps giving Mac suspicious looks though.',
    type: 'good',
    effects: [{ type: 'morale', amount: 25 }],
    disneyCharacter: 'maximus',
  },
];

export const BAD_EVENTS: GameEvent[] = [
  {
    id: 'minestrone-food-raid',
    title: 'Minestrone Strikes Again!',
    description: 'Minestrone got into the food supplies again! She has zero regrets. Those "guilty" eyes say otherwise. Classic troublemaker behavior.',
    type: 'bad',
    effects: [{ type: 'resource', resource: 'food', amount: -30 }],
  },
  {
    id: 'mac-wheel',
    title: 'Mac vs. Wagon',
    description: 'Mac accidentally sat on a wagon wheel. Mac is fine and unbothered. The wheel... significantly less so. He\'s very sorry (he is not).',
    type: 'bad',
    effects: [{ type: 'resource', resource: 'wagonWheels', amount: -1 }],
  },
  {
    id: 'stitch-chaos',
    title: 'Stitch Chaos!',
    description: 'STITCH APPEARED AND CAUSED ABSOLUTE CHAOS! He grabbed something and ran off cackling. "Blue punch buggy! No punch back!"',
    type: 'bad',
    effects: [{ type: 'resource', resource: 'catTreats', amount: -10 }],
    disneyCharacter: 'stitch',
  },
  {
    id: 'marge-hairball',
    title: 'Hairball Delay',
    description: 'Marge has a hairball. A DRAMATIC hairball. She insists on privacy and dignity during this trying time. Travel is delayed.',
    type: 'bad',
    effects: [{ type: 'time', amount: 1 }],
  },
  {
    id: 'traffic-jam',
    title: 'Modern Problems',
    description: 'You have encountered... a traffic jam on I-40. In a wagon. In fantasy Oregon Trail. Some things transcend time and space.',
    type: 'bad',
    effects: [{ type: 'time', amount: 2 }],
  },
  {
    id: 'pothole',
    title: 'Road Hazard!',
    description: 'The wagon hits a massive pothole! Everything rattles violently. Mac thinks it was an earthquake. Marge is profoundly unamused.',
    type: 'bad',
    effects: [{ type: 'morale', amount: -10 }],
  },
  {
    id: 'food-spoiled',
    title: 'Spoiled Supplies',
    description: 'Some of your food has spoiled in the heat. Should have packed more ice... where\'s Elsa when you need her? Oh right, at Crater Lake.',
    type: 'bad',
    effects: [{ type: 'resource', resource: 'food', amount: -25 }],
  },
  {
    id: 'cat-fight',
    title: 'Sibling Rivalry',
    description: 'Minestrone and Mac got into a tiff over the sunny spot in the wagon. Marge had to break it up with her Mom Energy. Party morale decreased.',
    type: 'bad',
    effects: [{ type: 'morale', amount: -15 }],
  },
  {
    id: 'lost-trail',
    title: 'Wrong Turn',
    description: 'You took a wrong turn. Mac was supposed to be navigating but fell asleep. In his defense, he\'s a cat. Classic Mac.',
    type: 'bad',
    effects: [{ type: 'time', amount: 1 }],
  },
  {
    id: 'wagon-squeak',
    title: 'Annoying Squeak',
    description: 'The wagon has developed an annoying squeak. It\'s driving everyone crazy. Minestrone keeps attacking the source. It does not help.',
    type: 'bad',
    effects: [{ type: 'morale', amount: -5 }],
  },
  {
    id: 'mac-nap-spot',
    title: 'Mac Found a Spot',
    description: 'Mac has claimed the driver\'s seat as his new nap spot. He refuses to move. He\'s too heavy to move. Travel is delayed while you negotiate.',
    type: 'bad',
    effects: [{ type: 'time', amount: 1 }],
  },
  {
    id: 'minestrone-zoomies',
    title: 'THE ZOOMIES',
    description: 'Minestrone has the zoomies. AT 3AM. She\'s running laps around the wagon at impossible speeds. Nobody is sleeping tonight.',
    type: 'bad',
    effects: [{ type: 'health', target: 'all', amount: -5 }],
  },
  {
    id: 'bird-distraction',
    title: 'Bird Watching',
    description: 'A bird flew by and all three cats are now frozen, making that weird clicking noise. Travel has stopped. They will not be moved.',
    type: 'bad',
    effects: [{ type: 'time', amount: 1 }],
  },
  {
    id: 'treat-shortage',
    title: 'Treat Crisis',
    description: 'The cats have noticed the treat supplies are running low. They are staging a protest. Marge is the union leader.',
    type: 'bad',
    effects: [{ type: 'morale', amount: -20 }],
  },
  {
    id: 'mac-ate-map',
    title: 'Map Malfunction',
    description: 'Mac ate part of the map. He thought it was a snack. To be fair, it was next to the snacks. This is technically your fault.',
    type: 'bad',
    effects: [{ type: 'time', amount: 1 }],
  },
];

export const SPECIAL_EVENTS: GameEvent[] = [
  {
    id: 'elsa-river',
    title: 'Let It Go!',
    description: 'Elsa appears in a magnificent swirl of snow and ice! "The cold never bothered me anyway," she says, freezing the river solid for easy crossing!',
    type: 'special',
    effects: [{ type: 'resource', resource: 'pixieDust', amount: 10 }],
    disneyCharacter: 'elsa',
  },
  {
    id: 'baymax-healing',
    title: 'Healthcare Companion',
    description: 'Baymax waddles over to your wagon. "Hello. I am Baymax, your personal healthcare companion. On a scale of 1 to 10, how would you rate your pain?"',
    type: 'special',
    effects: [{ type: 'health', target: 'all', amount: 25 }],
    disneyCharacter: 'baymax',
  },
  {
    id: 'rapunzel-healing',
    title: 'Healing Hair',
    description: 'Rapunzel appears with her magical golden hair glowing! She sings a healing song. "Flower gleam and glow, let your power shine..." All ailments fade!',
    type: 'special',
    effects: [{ type: 'health', target: 'all', amount: 30 }],
    disneyCharacter: 'rapunzel',
  },
  {
    id: 'goofy-repair',
    title: 'Goofy to the Rescue!',
    description: 'Goofy appears with a toolbox! "Gawrsh, looks like you need some help!" He fixes your wagon... mostly. "A-hyuck! Good as new!"',
    type: 'special',
    effects: [{ type: 'resource', resource: 'wagonWheels', amount: 1 }],
    disneyCharacter: 'goofy',
  },
  {
    id: 'mike-merchant',
    title: 'Familiar Face!',
    description: 'Wait... is that MIKE?! He\'s set up a roadside stand selling rare collectibles and trading cards. "Hey honey! How\'s the journey? Need any Magic cards?"',
    type: 'special',
    effects: [{ type: 'morale', amount: 50 }, { type: 'resource', resource: 'goldCoins', amount: 50 }],
  },
  {
    id: 'olaf-cheer',
    title: 'Warm Hugs!',
    description: 'Olaf waddles up to the wagon! "Hi! I\'m Olaf and I like warm hugs!" He seems perfectly fine despite the heat. His happiness is contagious!',
    type: 'special',
    effects: [{ type: 'morale', amount: 35 }],
    disneyCharacter: 'olaf',
  },
  {
    id: 'simba-encounter',
    title: 'The Lion King',
    description: 'Simba appears on a nearby rock, dramatically silhouetted against the sun! "Remember who you are." The cats are starstruck. Also slightly nervous.',
    type: 'special',
    effects: [{ type: 'morale', amount: 40 }],
    disneyCharacter: 'simba',
  },
  {
    id: 'fairy-godmother',
    title: 'Bibbidi-Bobbidi-Boo!',
    description: 'The Fairy Godmother appears in a shower of sparkles! "Even miracles take a little time." She waves her wand and... pumpkins? No wait, supplies!',
    type: 'special',
    effects: [
      { type: 'resource', resource: 'food', amount: 40 },
      { type: 'resource', resource: 'pixieDust', amount: 15 },
    ],
    disneyCharacter: 'fairy-godmother',
  },
  {
    id: 'mushu-guidance',
    title: 'Guardian Dragon',
    description: 'Mushu appears! "I LIVE! So tell me what mortal needs my protection?" The tiny dragon may be small but his confidence is enormous.',
    type: 'special',
    effects: [{ type: 'morale', amount: 25 }],
    disneyCharacter: 'mushu',
  },
  {
    id: 'pocahontas-nature',
    title: 'Colors of the Wind',
    description: 'Pocahontas guides you through a beautiful path! "You can paint with all the colors of the wind." The scenery is breathtaking. Even the cats pause to look.',
    type: 'special',
    effects: [{ type: 'morale', amount: 30 }, { type: 'health', target: 'all', amount: 10 }],
    disneyCharacter: 'pocahontas',
  },
  {
    id: 'woody-buzz-advice',
    title: 'To Infinity and Beyond!',
    description: 'Woody and Buzz appear! "You\'ve got a friend in me!" They share road trip wisdom. Buzz insists this is a "space mission."',
    type: 'special',
    effects: [{ type: 'morale', amount: 35 }],
    disneyCharacter: 'woody-buzz',
  },
  {
    id: 'dory-directions',
    title: 'Just Keep Swimming!',
    description: 'Dory pops up! "Hey, I remember you! ...wait, do I?" She tries to give directions but keeps forgetting. It\'s adorable.',
    type: 'special',
    effects: [{ type: 'morale', amount: 20 }],
    disneyCharacter: 'dory',
  },
  {
    id: 'wall-e-help',
    title: 'Directive: Help!',
    description: 'WALL-E rolls up with EVE! He shows off his collection of interesting treasures. EVE scans the cats suspiciously. They find some useful supplies!',
    type: 'special',
    effects: [{ type: 'resource', resource: 'wagonWheels', amount: 1 }, { type: 'morale', amount: 15 }],
    disneyCharacter: 'wall-e',
  },
  {
    id: 'maui-strength',
    title: 'You\'re Welcome!',
    description: 'Maui lands dramatically! "What can I say except you\'re welcome!" He helps move some obstacles and flexes a lot. Mac is impressed.',
    type: 'special',
    effects: [{ type: 'morale', amount: 30 }],
    disneyCharacter: 'maui',
  },
  {
    id: 'mirabel-blessing',
    title: 'Family Magic',
    description: 'Mirabel appears! "The miracle is you!" She brings the warmth of the Madrigal family. Bruno is hiding nearby, but we don\'t talk about that.',
    type: 'special',
    effects: [{ type: 'health', target: 'all', amount: 20 }, { type: 'morale', amount: 25 }],
    disneyCharacter: 'mirabel',
  },
  {
    id: 'bruno-prophecy',
    title: 'We Don\'t Talk About...',
    description: 'Bruno emerges from the shadows! "I see... good fortune ahead! ...I think." His rats wave hello. Minestrone is VERY interested in the rats.',
    type: 'special',
    effects: [{ type: 'morale', amount: 20 }, { type: 'resource', resource: 'pixieDust', amount: 10 }],
    disneyCharacter: 'bruno',
  },
  {
    id: 'sisu-luck',
    title: 'Dragon Luck!',
    description: 'Sisu the water dragon appears! "I\'m going to be real with you - I\'m not like the best dragon." But her awkward sincerity brings good luck!',
    type: 'special',
    effects: [{ type: 'morale', amount: 25 }, { type: 'resource', resource: 'goldCoins', amount: 30 }],
    disneyCharacter: 'sisu',
  },
  {
    id: 'hercules-help',
    title: 'A True Hero!',
    description: 'Hercules appears! "I won\'t let you down!" He helps clear the path ahead. The cats are startled by his muscles.',
    type: 'special',
    effects: [{ type: 'morale', amount: 35 }],
    disneyCharacter: 'hercules',
  },
  {
    id: 'ariel-curiosity',
    title: 'Part of Your World',
    description: 'Ariel appears near water! She\'s fascinated by your "land things." She trades some ocean treasures for a look at the cats.',
    type: 'special',
    effects: [{ type: 'resource', resource: 'goldCoins', amount: 25 }, { type: 'morale', amount: 20 }],
    disneyCharacter: 'ariel',
  },
  {
    id: 'aladdin-jasmine',
    title: 'A Whole New World',
    description: 'Aladdin and Jasmine fly by on their magic carpet! They toss down some supplies and wave. Minestrone tries to catch the carpet.',
    type: 'special',
    effects: [{ type: 'resource', resource: 'food', amount: 25 }, { type: 'resource', resource: 'pixieDust', amount: 5 }],
    disneyCharacter: 'aladdin',
  },
  {
    id: 'mulan-courage',
    title: 'Honor to Us All',
    description: 'Mulan rides by on Khan! "The greatest gift and honor is having you." Mushu pops out: "AND ME!" Their courage inspires the party!',
    type: 'special',
    effects: [{ type: 'morale', amount: 40 }],
    disneyCharacter: 'mulan',
  },
  {
    id: 'merida-brave',
    title: 'Touch the Sky!',
    description: 'Merida gallops past! "If you had the chance to change your fate... would you?" She shares some Scottish shortbread. The cats approve.',
    type: 'special',
    effects: [{ type: 'resource', resource: 'food', amount: 20 }, { type: 'morale', amount: 25 }],
    disneyCharacter: 'merida',
  },
  {
    id: 'mike-love-note',
    title: 'A Letter From Home',
    description: 'You find a love note hidden in the supplies! It\'s from Mike: "To Kristin - you\'re my favorite adventure. Can\'t wait to see you at Disney World. I love you! - Mike"',
    type: 'special',
    effects: [{ type: 'morale', amount: 100 }],
  },
];

export function getRandomEvent(): GameEvent {
  const rand = Math.random();

  // 35% chance good, 35% chance bad, 30% chance special
  if (rand < 0.35) {
    return GOOD_EVENTS[Math.floor(Math.random() * GOOD_EVENTS.length)];
  } else if (rand < 0.7) {
    return BAD_EVENTS[Math.floor(Math.random() * BAD_EVENTS.length)];
  } else {
    return SPECIAL_EVENTS[Math.floor(Math.random() * SPECIAL_EVENTS.length)];
  }
}

export function shouldTriggerEvent(): boolean {
  // 30% chance of event each day
  return Math.random() < 0.3;
}

export const ALL_EVENTS = [...GOOD_EVENTS, ...BAD_EVENTS, ...SPECIAL_EVENTS];
export const TOTAL_EVENTS = ALL_EVENTS.length;
